<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>T-PRM: T-PRM: Temporal Probabilistic Roadmap for Path Planning in Dynamic Environments</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/SVG"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">T-PRM<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">Temporal PRM</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">T-PRM: Temporal Probabilistic Roadmap for Path Planning in Dynamic Environments </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md__github_workspace_README"></a>This repository contains the source code for the T-PRM algorithm for path planning in dynamic environments. If you use this code in your academic work, please cite (<a href="https://www.research-collection.ethz.ch/handle/20.500.11850/560560">PDF</a>, <a href="https://youtu.be/Eh6brn_dVlU">Video</a>): </p><pre class="fragment">@inproceedings{hueppi2022tprm,
  title={T-PRM: Temporal Probabilistic Roadmap for Path Planning in Dynamic Environments},
  author={HÃ¼ppi, Matthias and Bartolomei, Luca and Mascaro, Ruben and Chli, Margarita},
  booktitle={2022 {IEEE/RSJ} International Conference on Intelligent Robots and Systems ({IROS})},
  year={2022}
}
</pre> <blockquote class="doxtable">
<p >&zwj;<b>Abstract</b>: Sampling-based motion planners are widely used in robotics due to their simplicity, flexibility and computational efficiency. However, in their most basic form, these algorithms operate under the assumption of static scenes and lack the ability to avoid collisions with dynamic (i.e. moving) obstacles. This raises safety concerns, limiting the range of possible applications of mobile robots in the real world. Motivated by these challenges, in this work we present Temporal-PRM, a novel sampling-based path-planning algorithm that performs obstacle avoidance in dynamic environments. The proposed approach extends the original Probabilistic Roadmap (PRM) with the notion of time, generating an augmented graph-like structure that can be efficiently queried using a time-aware variant of the A* search algorithm, also introduced in this paper. Our design maintains all the properties of PRM, such as the ability to perform multiple queries and to find smooth paths, while circumventing its downside by enabling collision avoidance in highly dynamic scenes with a minor increase in the computational cost. Through a series of challenging experiments in highly cluttered and dynamic environments, we demonstrate that the proposed path planner outperforms other state-of-the-art sampling-based solvers. Moreover, we show that our algorithm can run onboard a flying robot, performing obstacle avoidance in real time. </p>
</blockquote>
<p>This project is released under a GPLv3 license.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Dependencies</h1>
<p >The code has been tested under Ubuntu 20.04 and does not have any special dependency.</p>
<p >However, in order to run the benchmarks against OMPL, this library needs to be installed:</p><ul>
<li>If you have ROS installed, run <code>sudo apt install ros-noetic-ompl</code>;</li>
<li>Otherwise run <code>sudo apt install libompl-dev</code>.</li>
</ul>
<h1><a class="anchor" id="autotoc_md2"></a>
Compiling</h1>
<p >To compile the T-PRM library, execute the following steps: 1) Clone this repository: <code>git clone git@github.com:VIS4ROB-lab/t_prm.git</code> 2) Create a build folder: <code>mkdir build</code> 3) Navigate to the build folder: <code>cd build</code> 4) Execute cmake: <code>cmake ..</code> 5) Compile with make: <code>make</code></p>
<h1><a class="anchor" id="autotoc_md3"></a>
Running Benchmarks</h1>
<p >In order to run the benchmarks, check out the [instructions](benchmarking) in the <code>benchmarking</code> folder. To generate movies out of the benchmarks, check the folder <a href="benchmarking/scripts">benchmarking/scripts</a>.</p>
<h1><a class="anchor" id="autotoc_md4"></a>
Example</h1>
<p >The [examples](examples) folder contains examples on how to use the library. Here, we report the main instructions to run T-PRM with one dynamic obstacle moving in the space:</p><ol type="1">
<li>Necessary includes: <div class="fragment"><div class="line">{c++}</div>
<div class="line">   #include &lt;tprm/obstacle_impl.h&gt;</div>
<div class="line">   #include &lt;tprm/temporal_prm.h&gt;</div>
</div><!-- fragment --></li>
<li>Set the (holonomic) robot speed to a desired value: <div class="fragment"><div class="line">{c++}</div>
<div class="line">   tprm::HolonomicRobot::movement_speed = 0.1;  // m/s</div>
</div><!-- fragment --></li>
<li>Create the main T-PRM object: <div class="fragment"><div class="line">{c++}</div>
<div class="line">   tprm::TemporalPRM tprm;</div>
</div><!-- fragment --></li>
<li>Add a dynamic obstacle. In this case, the obstacle with dimension <code>0.25 m</code> is spawned at <code>(1, 1, 1)</code> and moves towards <code>(0, 0, 0)</code> with a velocity vector <code>(-0.1, -0.1, -0.1)</code>: <div class="fragment"><div class="line">{c++}</div>
<div class="line">   tprm.addDynamicObstacle(std::make_shared&lt;tprm::DynamicSphereObstacle&gt;(tprm::Vector3d::Constant(1.), tprm::Vector3d::Constant(-0.1), 0.25));</div>
</div><!-- fragment --></li>
<li>Sample the space (<code>150</code> samples) and create the roadmap with a maximum edge length of <code>0.25 m</code>: <div class="fragment"><div class="line">{c++}</div>
<div class="line">   tprm.placeSamples(150);</div>
<div class="line">   tprm.buildPRM(0.25);</div>
</div><!-- fragment --></li>
<li>Query the roadmap for a path from <code>(0, 0, 0)</code> to <code>(1, 1, 1)</code> starting at time <code>0.5 s</code>: <div class="fragment"><div class="line">{c++}</div>
<div class="line">   auto path = tprm.getShortestPath(tprm::Vector3d(0, 0, 0), tprm::Vector3d(1., 1., 1.), 0.5);</div>
</div><!-- fragment --></li>
<li>Print the result: <div class="fragment"><div class="line">{c++}</div>
<div class="line">   if (path.empty()) {</div>
<div class="line">       std::cout &lt;&lt; &quot;No path found&quot; &lt;&lt; std::endl;</div>
<div class="line">   } else {</div>
<div class="line">       for (auto&amp; node : path)</div>
<div class="line">           std::cout &lt;&lt; &quot;Node: &quot; &lt;&lt; node.position.transpose() &lt;&lt; &quot; at time &quot; &lt;&lt; node.time &lt;&lt; std::endl;</div>
<div class="line">   }</div>
</div><!-- fragment --> </li>
</ol>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jul 28 2022 07:12:57 for T-PRM by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
